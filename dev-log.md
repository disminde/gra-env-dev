# 学习与开发日志

**使用说明**：本日志用于记录毕业设计过程中的学习心得、开发进展、遇到的技术难题及解决方案。建议每周至少更新一次，保持记录的连贯性。

## 📝 模板范例

### [202X-XX-XX] 第X周 - [阶段主题]

**📅 本周概览**
- **核心目标**：完成Open-Meteo数据接口的调试。
- **完成情况**：100% / 延迟 / 提前。
- **心情/状态**：⭐⭐⭐⭐ (4/5)

**📚 学习内容**
1.  阅读了Open-Meteo官方文档，理解了API请求参数的含义。
2.  学习了Python `requests` 库的高级用法（重试机制、超时处理）。
3.  复习了Pandas的时间序列处理功能 (`resample`, `rolling`)。

**💻 开发进展**
- [√] 初始化了Git仓库并连接GitHub。
- [√] 编写了 `data_fetcher.py` 脚本，可以成功拉取指定经纬度的气温数据。
- [ ] 数据库表结构设计尚未完成，还在对比TimescaleDB和InfluxDB。

**🐛 问题与解决**
- **问题1**：API请求频率限制导致连接中断。
    - **原因**：短时间内发送了过多请求。
    - **解决**：在循环中加入了 `time.sleep(1)`，并使用了 `requests.Session()` 复用连接。
- **问题2**：下载的数据格式是JSON，嵌套层级较深，解析困难。
    - **解决**：编写了一个递归函数提取数据，最后转换为DataFrame。

**🚀 下周计划**
- 完成数据库环境搭建。
- 实现数据入库功能。

---

## 🗓️ 日志记录

### [2026-01-25] 项目启动阶段

**📅 本日概览**
- **核心目标**：项目环境初始化，完善技术文档，制定详细开发计划,阅读SPEI基础论文,确定需要爬取的数据项目,进行数据爬取可行性测试.
- **完成情况**：完成.

**💻 开发进展**
- [√] 重新审视整个项目,完成开发环境装配,学习docker和docker-compose的基本使用,完成了项目的docker化部署,完成文档迁徙和记录。
- [√] 基于 `tech-roadmap-v2.md` 完成了项目技术路线的确认。
- [√] 初始化了本地 Git 仓库，配置了 `.gitignore`。
- [√] 关联了远程 GitHub 仓库 `disminde/gra-env-dev`。
- [√] 创建了 `README.md`、`project-plan.md` 和 `dev-log.md` 等基础文档。
- [√] 阅读SPEI基础论文和PET的主要算法
- [√] 完成了数据抓取的可行性测试(完全可行)
- [√] 游玩了永恒的MC2。

**📝 备注**
- 今天的重点是把基础设施搭好，接下来的重点是数据获取(近期任务)和气象数据处理的基础知识(已完成)。

### [2026-01-26] 项目启动阶段

**📅 本日概览**
- **核心目标**：确认使用的数据量和数据形式，完成对NOAA的原始数据获取以及初步的交叉数据验证
- **完成情况**：进行中

**💻 开发进展**
- [√] 鉴于RP5数据源的获取方式（爬虫）存在稳定性风险及学术规范考量，本项目决定将历史观测数据源从 **RP5** 变更为 **NOAA (美国国家海洋和大气管理局)**。
- [√] 编写python脚本实现OPEN-METEO API的调用和数据自动化获取,开发数据看板以监控数据获取状态和数据质量。
- [√] 游玩了Limbus Company和上古卷轴5。

**📝 备注**
- 第一版代码过大的数据量和数据调取速度导致受到了OPEN-METEO API的速率限制和惩罚,可能需要暂停一段时间等待惩罚结束,此外需要对代码进行优化,减少数据量和调用频率。

---

### [2026-01-27至2026-01-30] 项目启动阶段

**📅 近日概览**
- **核心目标**：数据爬取与计算逻辑实现
- **完成情况**：完成

**💻 开发进展**
- [√] 优化数据爬取逻辑,减少对OPEN-METEO API的调用次数,提高效率。
- [√] 编写python程序用于计算SPEI值。
- [√] 完善数据处理逻辑,包括缺失值填充、异常值检测和异常值处理。
- [√] 优化数据看板，学习QM偏差纠正理论知识
- [√] 回顾部分代码

---